# Use something that's not 'ruby' so we don't set up things like
# RVM/bundler/ruby and whatnot. Right now 'rust' isn't a language on travis and
# it treats unknown languages as ruby-like I believe.
language: c

env:
  global:
      - secure: ViPh8yxpYSWPO73W+BoMVQQUNnsOpW4oHbkc6KpkbWseBaCnai3xlxiY6rthXmhaxnOA33JjU7gl90507RNQ5pv8zWeeerg8goZgDpWTqq0X0BKibcgrLXW2Ulh7okyZUj++nXupTiG8aVc2JFGjHeH4ePesY/mIpskGTm/mMEY=

install:
  - curl -O http://static.rust-lang.org/dist/rust-nightly-x86_64-unknown-linux-gnu.tar.gz
  - tar xfz rust-nightly-x86_64-unknown-linux-gnu.tar.gz
  - (cd rust-nightly-x86_64-unknown-linux-gnu/ && sudo ./install.sh)

script:
  - make all test doc

after_script:
  - curl http://www.rust-ci.org/artifacts/put?t=$RUSTCI_TOKEN | sh

notifications:
  email: false
